"use strict";(self.webpackChunknasa=self.webpackChunknasa||[]).push([[862],{862:(y,m,i)=>{i.r(m),i.d(m,{AdminQuotationModule:()=>T});var d=i(6870),h=i(1567),t=i(5879),p=i(553),c=i(9862);let u=(()=>{class e{findListQuotation(n){return this.http.get(`${this.apiUrl}?name=${n}`)}createFormQuotation(n,o){return this.http.put(`${this.apiUrl}/${n}`,o).subscribe(a=>{})}constructor(n){this.http=n,this.apiUrl=`${p.N.apiURL}/entities`}static#t=this.\u0275fac=function(o){return new(o||e)(t.LFG(c.eN))};static#n=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var f=i(9711);let g=(()=>{class e{ngOnInit(){this.findListQuotation()}findListQuotation(){this.quotationService.findListQuotation("LIST_QUOTATION").subscribe(n=>{this.items=JSON.parse(n[0].data),this.path=n[0].name})}constructor(n){this.quotationService=n,this.columnConfig=[{key:"name",header:"T\xean kh\xe1ch h\xe0ng"},{key:"phoneNumber",header:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"},{key:"add",header:"\u0110\u1ecba ch\u1ec9 thi c\xf4ng"}],this.items=[],this.path=""}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(u))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-quotaion"]],decls:4,vars:3,consts:[[1,"create-btn"],[1,"uppercase","my-10","text-xl"],[3,"displayedColumns","data","path"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Th\xf4ng tin kh\xe1ch h\xe0ng \u0111\u0103ng k\xfd b\xe1o gi\xe1"),t.qZA()(),t._UZ(3,"app-table",2)),2&o&&(t.xp6(3),t.Q6J("displayedColumns",a.columnConfig)("data",a.items)("path",a.path))},dependencies:[f.a]})}return e})();var r=i(95),l=i(1849),v=i(5971),b=i(4009),A=i(9545),z=i(4344),s=i(6590);const C=h.Bz.forChild([{path:"",component:g},{path:":phoneNumber",component:(()=>{class e{constructor(n,o,a){this.fb=n,this.quotationService=o,this.activatedRoute=a,this.idAPI=0,this.phoneNumber="",this.lstQuotation=[],this.item={isConnect:!1,name:"",phoneNumber:"",add:"",noteOfCustomer:"",note:""},this.isDisplayAlertSuccess="none"}buildForm(){this.formInfo=this.fb.group({isConnect:[!1],name:[this.item.name],phoneNumber:[this.item.phoneNumber],add:[this.item.add],noteOfCustomer:[this.item.noteOfCustomer],note:[null]})}ngOnInit(){this.buildForm(),this.phoneNumber=this.activatedRoute.snapshot.params.phoneNumber,this.findListQuotation()}findListQuotation(){this.quotationService.findListQuotation("LIST_QUOTATION").subscribe(n=>{this.idAPI=n[0].id,this.lstQuotation=JSON.parse(n[0].data);const o=this.lstQuotation.filter(a=>a.phoneNumber==this.phoneNumber);this.item=o[0],this.formInfo.patchValue(this.item)})}submitForm(){let n=this.lstQuotation.filter(o=>o.phoneNumber!==this.formInfo.value.phoneNumber);n=[...n,this.formInfo.value],this.createQuotation(n)}createQuotation(n){let o={name:"LIST_QUOTATION",data:JSON.stringify(n)};this.quotationService.createFormQuotation(this.idAPI,o),this.isDisplayAlertSuccess="flex",setTimeout(()=>{this.isDisplayAlertSuccess="none"},5e3)}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(u),t.Y36(h.gz))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-quotaion-detail"]],decls:39,vars:7,consts:[[1,"create-btn"],[1,"uppercase","my-10","text-xl"],["nz-form","","ngMO","",3,"formGroup","ngSubmit"],[1,"py-3",2,"min-width","120px","text-align","start"],["nz-input","","formControlName","name",1,"w-5/6","p-3","rounded-xl",3,"value"],["type","text","disabled","",1,"w-5/6","p-4","rounded-xl",3,"value"],["type","checkbox","formControlName","isConnect",1,"my-5","mx-3"],["nz-input","","formControlName","add",1,"w-5/6","p-3","rounded-xl",3,"value"],["nz-input","","formControlName","noteOfCustomer",1,"w-5/6","p-3","rounded-xl",3,"value"],["nz-input","","formControlName","note",1,"w-5/6","p-3","rounded-xl"],[1,"btn","w-full","flex","justify-center"],["nz-button","","nzType","primary",1,"w-1/5","my-5"],[1,"alert","w-1/2","justify-end","fixed","top-3","right-3"],["nzType","success","nzMessage","C\u1eadp nh\u1eadt th\xf4ng tin kh\xe1ch h\xe0ng th\xe0nh c\xf4ng th\xe0nh c\xf4ng!","nzShowIcon","",1,"w-1/2"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Chi ti\u1ebft th\xf4ng tin kh\xe1ch h\xe0ng"),t.qZA()(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return a.submitForm()}),t.TgZ(4,"nz-form-item")(5,"nz-form-label",3),t._uU(6,"H\u1ecd t\xean"),t.qZA(),t.TgZ(7,"nz-form-control"),t._UZ(8,"input",4),t.qZA()(),t.TgZ(9,"nz-form-item")(10,"nz-form-label",3),t._uU(11,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t.TgZ(12,"nz-form-control"),t._UZ(13,"input",5),t.qZA()(),t.TgZ(14,"nz-form-item")(15,"nz-form-label",3),t._uU(16,"\u0110\xe3 li\xean h\u1ec7 t\u01b0 v\u1ea5n"),t.qZA(),t.TgZ(17,"nz-form-control"),t._UZ(18,"input",6),t.qZA()(),t.TgZ(19,"nz-form-item")(20,"nz-form-label",3),t._uU(21,"\u0110\u1ecba ch\u1ec9 thi c\xf4ng"),t.qZA(),t.TgZ(22,"nz-form-control"),t._UZ(23,"input",7),t.qZA()(),t.TgZ(24,"nz-form-item")(25,"nz-form-label",3),t._uU(26,"Nhu c\u1ea7u t\u01b0 v\u1ea5n"),t.qZA(),t.TgZ(27,"nz-form-control"),t._UZ(28,"textarea",8),t.qZA()(),t.TgZ(29,"nz-form-item")(30,"nz-form-label",3),t._uU(31,"Ghi ch\xfa"),t.qZA(),t.TgZ(32,"nz-form-control"),t._UZ(33,"textarea",9),t.qZA()(),t.TgZ(34,"div",10)(35,"button",11),t._uU(36,"S\u1eeda th\xf4ng tin"),t.qZA()()(),t.TgZ(37,"div",12),t._UZ(38,"nz-alert",13),t.qZA()),2&o&&(t.xp6(3),t.Q6J("formGroup",a.formInfo),t.xp6(5),t.Q6J("value",a.item.name),t.xp6(5),t.Q6J("value",a.item.phoneNumber),t.xp6(10),t.Q6J("value",a.item.add),t.xp6(5),t.Q6J("value",a.item.noteOfCustomer),t.xp6(9),t.Udp("display",a.isDisplayAlertSuccess))},dependencies:[l.t3,l.SK,v.ix,b.w,A.dQ,z.r,s.Lr,s.Nx,s.iK,s.Fd,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.sg,r.u],styles:[".ant-advanced-search-form[_ngcontent-%COMP%]{padding:24px;background:#fbfbfb;border:1px solid #d9d9d9;border-radius:6px}.search-result-list[_ngcontent-%COMP%]{margin-top:16px;border:1px dashed #e9e9e9;border-radius:6px;background-color:#fafafa;min-height:200px;text-align:center;padding-top:80px}[nz-form-label][_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%]{margin-left:8px}.collapse[_ngcontent-%COMP%]{margin-left:8px;font-size:12px}.search-area[_ngcontent-%COMP%]{text-align:right}"]})}return e})()}]);var Q=i(6814);let T=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({providers:[u],imports:[Q.ez,C,d.m]})}return e})()}}]);